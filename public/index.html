<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Domain Login Finder</title>
</head>
<body>
    <h1>Email Domain Login Finder</h1>
    <p>Enter the domain of the email (e.g., 'bona.com', 'moreyspiers.com') to find the login page:</p>
    <input type="text" id="emailInput" placeholder="e.g. bona.com">
    <button onclick="findLoginPage()">Find Login</button>

    <div id="result"></div>

    <script>
        async function findLoginPage() {
            const emailInput = document.getElementById('emailInput').value.trim().toLowerCase();
            const resultDiv = document.getElementById('result');

            if (emailInput === '') {
                resultDiv.innerHTML = '{"error": "Please enter a valid email domain"}';
                return;
            }

            // Extract domain from email or input
            const domain = emailInput.split('@')[1] || emailInput;

            const loginPages = [];

            // List of known email services with login URLs
            const knownServices = {
                'zoho.com': 'https://mail.zoho.com',
                'office365.com': 'https://login.microsoftonline.com',
                'outlook.com': 'https://outlook.live.com',
                'gmail.com': 'https://mail.google.com',
                'yahoo.com': 'https://login.yahoo.com',
                'aol.com': 'https://login.aol.com',
                'protonmail.com': 'https://mail.protonmail.com',
            };

            // Check if domain is a known service and show the correct login page
            if (knownServices[domain]) {
                resultDiv.innerHTML = `
                    <p>Login page for <strong>${domain}</strong>:</p>
                    <a href="${knownServices[domain]}" target="_blank">${knownServices[domain]}</a>`;
                return;
            }

            // If it's a custom domain, try common login URLs
            const loginPageUrls = [
                `https://mail.${domain}`,
                `https://webmail.${domain}`,
                `https://email.${domain}`,
                `https://portal.${domain}`,
                `https://login.${domain}`,
                `https://web.${domain}`,
                `https://${domain}`, // Check the domain itself
            ];

            // Loop over all possible login page URLs
            for (let url of loginPageUrls) {
                try {
                    const response = await fetch(url, { method: 'GET', mode: 'cors' });

                    // Only consider the page if the status is 200 (OK)
                    if (response.ok) {
                        loginPages.push({ url, status: response.status });
                    } else {
                        loginPages.push({ url, status: response.status });
                    }
                } catch (error) {
                    loginPages.push({ url, status: 'unreachable' });
                }
            }

            // Show results
            if (loginPages.length > 0) {
                // Find the first valid login page (status 200)
                const validLoginPage = loginPages.find(page => page.status === 200);

                if (validLoginPage) {
                    resultDiv.innerHTML = `
                        <p>Login page found for <strong>${domain}</strong>:</p>
                        <a href="${validLoginPage.url}" target="_blank">${validLoginPage.url}</a>`;
                } else {
                    resultDiv.innerHTML = `{"error": "No valid login page found for domain: ${domain}"}`;
                }
            } else {
                resultDiv.innerHTML = '{"error": "No login page found for domain: ' + domain + '"}';
            }
        }
    </script>
</body>
</html>
